<!DOCTYPE html>
<!-- saved from url=(0050)fg.cn/spring/core.html#beans-basics -->
<html lang="en" class="js">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Asciidoctor 2.0.12">
    <title>核心技术</title>
    <link rel="stylesheet" href="../static/css/site.css">
    <meta name="keywords" content="spring 中文文档, spring 官方文档">
    <meta name="description" content="SPRINGDOC.CN 提供 Spring 官方文档的翻译服务，可以方便您快速阅读中文版官方文档。">

    <style>
        p {
            caret-color: transparent;
        }
    </style>

    <!--
    <base target="_blank">
    -->
    <script type="application/json" id="anchor-rewrite">

    </script>
<body id="spring-core" class="book toc2 toc-left fixed-toc">
<div id="banner-container" class="container" role="banner">
    <div id="banner" class="contained" role="banner">
        <div id="switch-theme">
            <input type="checkbox" id="switch-theme-checkbox">
            <label for="switch-theme-checkbox">Dark Theme</label>
        </div>
    </div>
</div>
<div id="tocbar-container" class="container" role="navigation">
    <div id="tocbar" class="contained" role="navigation">
        <button id="toggle-toc"></button>
    </div>
</div>
<div id="main-container" class="container">
    <div id="main" class="contained">
        <div id="doc" class="doc">
            <div id="header">
                <h1>核心技术</h1>
                <div class="details">
                    <span id="revnumber">version 6.0.8-SNAPSHOT</span>
                </div>
                <div id="toc" class="toc2">
                    <div id="toctitle">Table of Contents</div>
                    <span id="back-to-index"><a href="fg.cn/spring/index.html">Back to index</a></span>
                    <ul class="sectlevel1 expanded">
                        <li class="active"><a href="fg.cn/spring/core.html#beans">1. IoC 容器</a>
                            <ul class="sectlevel2">
                                <li><a href="fg.cn/spring/core.html#beans-introduction">1.1. Spring
                                    IoC容器和Bean简介</a></li>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#beans-factory-metadata">1.2.1. 配置元数据</a>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#beans-factory-instantiation">1.2.2.
                                        实例化一个容器</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#beans-factory-xml-import">构建基于XML的配置元数据</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#groovy-bean-definition-dsl">Groovy Bean
                                                Definition DSL</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#beans-factory-client">1.2.3. 使用容器</a></li>
                                </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-definition">1.3. Bean 概览</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-beanname">1.3.1. Bean 命名</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-beanname-alias">在 Bean Definition
                                            之外对Bean进行别名</a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-class">1.3.2. 实例化 Bean</a>
                                    <ul class="sectlevel4">
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-factory-class-ctor">用构造函数进行实例化</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-class-static-factory-method">用静态工厂方法进行实例化</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-factory-class-instance-factory-method">用实例工厂方法进行实例化</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-type-determination">确定Bean的运行时类型</a>
                                        </li>
                                    </ul>
                                </li>

                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-dependencies">1.4. 依赖</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-factory-collaborators">1.4.1. 依赖注入</a>
                                    <ul class="sectlevel4">
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-constructor-injection">基于构造器的依赖注入</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-setter-injection">基于Setter的依赖注入</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-dependency-resolution">依赖的解析过程</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-some-examples">依赖注入的例子</a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-properties-detailed">1.4.2.
                                    依赖和配置的细节</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-value-element">字面值 (基本类型、
                                            String 等)</a></li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-ref-element">对其他Bean的引用（合作者）</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-inner-beans">内部 Bean</a></li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-collection-elements">集合（Collection）</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-null-element">Null and Empty String
                                            Values</a></li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-p-namespace">使用p命名空间的XML快捷方式</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-c-namespace">使用c命名空间的XML快捷方式</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-compound-property-names">复合属性名</a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-dependson">1.4.3. 使用 <code>depends-on</code></a>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-lazy-init">1.4.4. 懒加载的Bean</a>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-autowire">1.4.5. 注入协作者（Autowiring
                                    Collaborators）</a>
                                    <ul class="sectlevel4">
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-autowired-exceptions">自动注入的限制和缺点</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-autowire-candidate">从自动注入中排除一个Bean</a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-method-injection">1.4.6. 方法注入</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-factory-lookup-method-injection">查找方法依赖注入</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-arbitrary-method-replacement">任意方法替换</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes">1.5. Bean Scope</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-factory-scopes-singleton">1.5.1. Singleton
                                    Scope</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-scopes-prototype">1.5.2. Prototype
                                    Scope</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-scopes-sing-prot-interaction">1.5.3.
                                    singleton Bean 和 prototype bean 依赖</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-scopes-other">1.5.4. Request、 Session、
                                    Application 和 WebSocket Scope</a>
                                    <ul class="sectlevel4">
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-factory-scopes-other-web-configuration">初始
                                                Web 配置</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes-request">Request
                                            scope</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes-session">Session
                                            Scope</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes-application">Application
                                            Scope</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes-websocket">WebSocket
                                            Scope</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes-other-injection">作为依赖的
                                            Scope Bean</a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-scopes-custom">1.5.5. 自定义 Scope</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes-custom-creating">创建自定义
                                            Scope</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-scopes-custom-using">使用自定义
                                            Scope</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-factory-nature">1.6. 自定义Bean的性质（Nature）</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-factory-lifecycle">1.6.1. 生命周期回调</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-factory-lifecycle-initializingbean">初始化回调</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-factory-lifecycle-disposablebean">销毁回调</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-factory-lifecycle-default-init-destroy-methods">默认的初始化和销毁方法</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-lifecycle-combined-effects">结合生命周期机制</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-factory-lifecycle-processor">启动和关闭的回调</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-shutdown">在非Web应用中优雅地关闭Spring
                                            IoC容器</a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-aware">1.6.2. <code>ApplicationContextAware</code>
                                    和 <code>BeanNameAware</code></a></li>
                                <li><a href="fg.cn/spring/core.html#aware-list">1.6.3. 其他 <code>Aware</code> 接口</a>
                                </li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-child-bean-definitions">1.7. Bean
                            定义（Definition）的继承</a></li>
                        <li><a href="fg.cn/spring/core.html#beans-factory-extension">1.8. 容器扩展点</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-factory-extension-bpp">1.8.1. 使用 <code>BeanPostProcessor</code>
                                    自定义 Bean</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-factory-extension-bpp-examples-hw">示例：
                                            Hello World, <code>BeanPostProcessor</code></a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-factory-extension-bpp-examples-aabpp">示例：
                                            <code>AutowiredAnnotationBeanPostProcessor</code></a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-extension-factory-postprocessors">1.8.2.
                                    用 <code>BeanFactoryPostProcessor</code> 定制配置元数据</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-factory-placeholderconfigurer">示例:
                                            类名替换 <code>PropertySourcesPlaceholderConfigurer</code></a></li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-factory-overrideconfigurer">示例：<code>PropertyOverrideConfigurer</code></a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-factory-extension-factorybean">1.8.3. 用
                                    <code>FactoryBean</code> 自定义实例化逻辑</a></li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-annotation-config">1.9. 基于注解的容器配置</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-autowired-annotation">1.9.1. 使用 <code>@Autowired</code></a>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-autowired-annotation-primary">1.9.2. 用 <code>@Primary</code>
                                    对基于注解的自动注入进行微调</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-autowired-annotation-qualifiers">1.9.3. 用
                                    Qualifiers 微调基于注解的自动注入</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-generics-as-qualifiers">1.9.4. 使用泛型作为自动注入
                                    Qualifier</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-custom-autowire-configurer">1.9.5. 使用 <code>CustomAutowireConfigurer</code></a>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-resource-annotation">1.9.6. 用
                                    <code>@Resource</code> 注入</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-value-annotations">1.9.7. 使用
                                    <code>@Value</code></a></li>
                                <li><a href="fg.cn/spring/core.html#beans-postconstruct-and-predestroy-annotations">1.9.8.
                                    使用 <code>@PostConstruct</code> 和 <code>@PreDestroy</code></a></li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-classpath-scanning">1.10.
                            Classpath扫描和管理的组件</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-stereotype-annotations">1.10.1. <code>@Component</code>
                                    和进一步的 Stereotype 注解</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-meta-annotations">1.10.2.
                                    使用元注解和组合注解</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-scanning-autodetection">1.10.3.
                                    自动检测类和注册Bean定义</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-scanning-filters">1.10.4.
                                    使用Filter来自定义扫描</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-factorybeans-annotations">1.10.5.
                                    在组件中定义Bean元数据</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-scanning-name-generator">1.10.6.
                                    命名自动检测的组件</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-scanning-scope-resolver">1.10.7.
                                    为自动检测的组件提供一个Scope</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-scanning-qualifiers">1.10.8. 用注解提供
                                    Qualifier 元数据</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-scanning-index">1.10.9.
                                    生成一个候选组件的索引</a></li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-standard-annotations">1.11. 使用JSR 330标准注解</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-inject-named">1.11.1. 用 <code>@Inject</code>
                                    和 <code>@Named</code> 进行依赖注入</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-named">1.11.2. <code>@Named</code> 和 <code>@ManagedBean</code>：与
                                    <code>@Component</code> 注解的标准对等物</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-standard-annotations-limitations">1.11.3.
                                    JSR-330 标准注解的局限性</a></li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-java">1.12. 基于Java的容器配置</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-java-basic-concepts">1.12.1. 基本概念：<code>@Bean</code>
                                    和 <code>@Configuration</code></a></li>
                                <li><a href="fg.cn/spring/core.html#beans-java-instantiating-container">1.12.2. 通过使用
                                    <code>AnnotationConfigApplicationContext</code> 实例化Spring容器</a>
                                    <ul class="sectlevel4">
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-java-instantiating-container-constructor">简单构造</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-java-instantiating-container-register">通过使用
                                                <code>register(Class&lt;?&gt;…​)</code> 以编程方式构建容器。</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-instantiating-container-scan">用
                                            <code>scan(String…​)</code> 启用组件扫描。</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-instantiating-container-web">用
                                            <code>AnnotationConfigWebApplicationContext</code> 支持Web应用程序</a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-java-bean-annotation">1.12.3. 使用
                                    <code>@Bean</code> 注解</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-java-declaring-a-bean">声明一个
                                            Bean</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-dependencies">Bean 依赖</a></li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-java-lifecycle-callbacks">接收生命周期的回调</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-specifying-bean-scope">指定 Bean
                                            的 Scope</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-customizing-bean-naming">自定义Bean的命名</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-bean-aliasing">Bean 别名</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-bean-description">Bean
                                            描述（Description）</a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-java-configuration-annotation">1.12.4. 使用
                                    <code>@Configuration</code> 注解</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-java-injecting-dependencies">注入bean间的依赖</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-java-method-injection">查询方法注入</a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-further-information-java-config">关于基于Java的配置如何在内部工作的进一步信息</a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-java-composing-configuration-classes">1.12.5.
                                    构建基于Java的配置</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-java-using-import">使用
                                            <code>@Import</code> 注解</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-java-conditional">有条件地包括 <code>@Configuration</code>
                                            类或 <code>@Bean</code> 方法</a></li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#beans-java-combining">将Java和XML配置相结合</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-environment">1.13. Environment 抽象</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#beans-definition-profiles">1.13.1. Bean定义配置</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#beans-definition-profiles-java">使用 <code>@Profile</code></a>
                                        </li>
                                        <li><a href="fg.cn/spring/core.html#beans-definition-profiles-xml">XML Bean
                                            定义配置</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-definition-profiles-enable">激活一个
                                            Profile</a></li>
                                        <li><a href="fg.cn/spring/core.html#beans-definition-profiles-default">默认
                                            Profile</a></li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-property-source-abstraction">1.13.2. <code>PropertySource</code>
                                    抽象</a></li>
                                <li><a href="fg.cn/spring/core.html#beans-using-propertysource">1.13.3. 使用 <code>@PropertySource</code></a>
                                </li>
                                <li><a href="fg.cn/spring/core.html#beans-placeholder-resolution-in-statements">1.13.4.
                                    声明中的占位符解析</a></li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#context-load-time-weaver">1.14. 注册
                            <code>LoadTimeWeaver</code></a></li>
                        <li><a href="fg.cn/spring/core.html#context-introduction">1.15. <code>ApplicationContext</code>
                            的附加功能</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#context-functionality-messagesource">1.15.1. 使用
                                    <code>MessageSource</code> 进行国际化</a></li>
                                <li><a href="fg.cn/spring/core.html#context-functionality-events">1.15.2.
                                    标准和自定义事件</a>
                                    <ul class="sectlevel4">
                                        <li><a href="fg.cn/spring/core.html#context-functionality-events-annotation">基于注解的事件监听器</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#context-functionality-events-async">异步监听器</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#context-functionality-events-order">监听顺序</a>
                                        </li>
                                        <li>
                                            <a href="fg.cn/spring/core.html#context-functionality-events-generics">一般性事件</a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="fg.cn/spring/core.html#context-functionality-resources">1.15.3.
                                    方便地获取低级别的资源</a></li>
                                <li><a href="fg.cn/spring/core.html#context-functionality-startup">1.15.4.
                                    应用程序启动跟踪</a></li>
                                <li><a href="fg.cn/spring/core.html#context-create">1.15.5. 为web应用程序提供方便的
                                    <code>ApplicationContext</code> 实例化</a></li>
                                <li><a href="fg.cn/spring/core.html#context-deploy-rar">1.15.6. 将 Spring <code>ApplicationContext</code>
                                    部署为Jakarta EE RAR文件</a></li>
                            </ul>
                        </li>
                        <li><a href="fg.cn/spring/core.html#beans-beanfactory">1.16. <code>BeanFactory</code> API</a>
                            <ul class="sectlevel3">
                                <li><a href="fg.cn/spring/core.html#context-introduction-ctx-vs-beanfactory">1.16.1.
                                    <code>BeanFactory</code> 还是 <code>ApplicationContext</code>?</a></li>
                            </ul>
                        </li>


                    </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#resources">2. 资源（Resources）</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#resources-introduction">2.1. 简介</a></li>
                            <li><a href="fg.cn/spring/core.html#resources-resource">2.2. <code>Resource</code> 接口</a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#resources-implementations">2.3. 内置的
                                <code>Resource</code> 实现</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#resources-implementations-urlresource">2.3.1.
                                        <code>UrlResource</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#resources-implementations-classpathresource">2.3.2.
                                        <code>ClassPathResource</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#resources-implementations-filesystemresource">2.3.3.
                                        <code>FileSystemResource</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#resources-implementations-pathresource">2.3.4.
                                        <code>PathResource</code></a></li>
                                    <li>
                                        <a href="fg.cn/spring/core.html#resources-implementations-servletcontextresource">2.3.5.
                                            <code>ServletContextResource</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#resources-implementations-inputstreamresource">2.3.6.
                                        <code>InputStreamResource</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#resources-implementations-bytearrayresource">2.3.7.
                                        <code>ByteArrayResource</code></a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#resources-resourceloader">2.4.
                                <code>ResourceLoader</code> 接口</a></li>
                            <li><a href="fg.cn/spring/core.html#resources-resourcepatternresolver">2.5. <code>ResourcePatternResolver</code>
                                接口</a></li>
                            <li><a href="fg.cn/spring/core.html#resources-resourceloaderaware">2.6. <code>ResourceLoaderAware</code>
                                接口</a></li>
                            <li><a href="fg.cn/spring/core.html#resources-as-dependencies">2.7. 作为依赖的 Resources</a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#resources-app-ctx">2.8. Application Context
                                和资源路径</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#resources-app-ctx-construction">2.8.1. 构建
                                        Application Context</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#resources-app-ctx-classpathxml">构建
                                                <code>ClassPathXmlApplicationContext</code> 实例 - 快捷方式</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#resources-app-ctx-wildcards-in-resource-paths">2.8.2.
                                        Application Context 构造器资源路径中的通配符</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#resources-app-ctx-ant-patterns-in-paths">Ant
                                                    风格的 Pattern</a></li>
                                            <li><a href="fg.cn/spring/core.html#resources-classpath-wildcards"><code>classpath*:</code>
                                                前缀</a></li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#resources-wildcards-in-path-other-stuff">与通配符有关的其他说明</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#resources-filesystemresource-caveats">2.8.3.
                                        <code>FileSystemResource</code> 注意事项</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#validation">3. 验证、数据绑定和类型转换</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#validator">3.1. 使用 Spring 的 Validator
                                接口进行验证</a></li>
                            <li><a href="fg.cn/spring/core.html#validation-conversion">3.2. 将code解析为错误信息</a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#beans-beans">3.3. Bean 操作和
                                <code>BeanWrapper</code></a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#beans-beans-conventions">3.3.1.
                                        设置和获取基本属性和嵌套属性</a></li>
                                    <li><a href="fg.cn/spring/core.html#beans-beans-conversion">3.3.2. 内置的
                                        PropertyEditor 实现</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#beans-beans-conversion-customeditor-registration">注册额外的自定义
                                                    <code>PropertyEditor</code> 实现</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            阴天，天快要黑了，窗外雾气蒙蒙。室内有一面落地窗，朝屋外看去应该在七八层左右，窗户与墙壁形成夹角的地方摆放着一个单人沙发，一个中年男人坐在那里，双手耷在腿上，低着头，看不清他完整的样貌，只能看到他侧脸的胡须。
                            <li><a href="fg.cn/spring/core.html#core-convert">3.4. Spring 类型转换</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#core-convert-Converter-API">3.4.1.
                                        转换器（Converter） SPI</a></li>
                                    <li><a href="fg.cn/spring/core.html#core-convert-ConverterFactory-SPI">3.4.2. 使用
                                        <code>ConverterFactory</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#core-convert-GenericConverter-SPI">3.4.3. 使用
                                        <code>GenericConverter</code></a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#core-convert-ConditionalGenericConverter-SPI">使用
                                                    <code>ConditionalGenericConverter</code></a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#core-convert-ConversionService-API">3.4.4.
                                        <code>ConversionService</code> API</a></li>
                                    <li><a href="fg.cn/spring/core.html#core-convert-Spring-config">3.4.5. 配置 <code>ConversionService</code></a>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#core-convert-programmatic-usage">3.4.6. 以编程方式使用
                                        <code>ConversionService</code></a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#format">3.5. Spring 字段格式化</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#format-Formatter-SPI">3.5.1.
                                        <code>Formatter</code> SPI</a></li>
                                    <li><a href="fg.cn/spring/core.html#format-CustomFormatAnnotations">3.5.2.
                                        注解驱动的格式化</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#format-annotations-api">格式化注解API</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#format-FormatterRegistry-SPI">3.5.3. <code>FormatterRegistry</code>
                                        SPI</a></li>
                                    <li><a href="fg.cn/spring/core.html#format-FormatterRegistrar-SPI">3.5.4. <code>FormatterRegistrar</code>
                                        SPI</a></li>
                                    <li><a href="fg.cn/spring/core.html#format-configuring-formatting-mvc">3.5.5.
                                        在Spring MVC中配置格式化</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#format-configuring-formatting-globaldatetimeformat">3.6.
                                配置全局的 Date 和 Time 的格式</a></li>
                            <li><a href="fg.cn/spring/core.html#validation-beanvalidation">3.7. Java Bean 校验</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#validation-beanvalidation-overview">3.7.1. Bean
                                        校验（Validation）的概述</a></li>
                                    <li><a href="fg.cn/spring/core.html#validation-beanvalidation-spring">3.7.2.
                                        配置一个Bean Validation Provider</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#validation-beanvalidation-spring-inject">注入一个
                                                    Validator</a></li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#validation-beanvalidation-spring-constraints">配置自定义约束</a>
                                            </li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#validation-beanvalidation-spring-method">Spring驱动的方法验证</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#validation-beanvalidation-spring-other">其他配置选项</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#validation-binder">3.7.3. 配置
                                        <code>DataBinder</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#validation-mvc">3.7.4. Spring MVC 3
                                        Validation</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#expressions">4. Spring 表达式语言（SpEL）</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#expressions-evaluation">4.1. 评估（Evaluation）</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#expressions-evaluation-context">4.1.1. 理解
                                        <code>EvaluationContext</code></a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#expressions-type-conversion">类型转换</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#expressions-parser-configuration">4.1.2.
                                        解析器（Parser ）配置</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-spel-compilation">4.1.3. SpEL
                                        编译</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#expressions-compiler-configuration">编译器（Compiler
                                                ）配置</a></li>
                                            <li><a href="fg.cn/spring/core.html#expressions-compiler-limitations">编译器的局限性</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#expressions-beandef">4.2. Bean定义中的表达式</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#expressions-beandef-xml-based">4.2.1. XML
                                        配置</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-beandef-annotation-based">4.2.2.
                                        注解配置</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#expressions-language-ref">4.3. 语言参考</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#expressions-ref-literal">4.3.1.
                                        字面值上的表达</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-properties-arrays">4.3.2.
                                        Properties、Array、List、Map 和索引</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-inline-lists">4.3.3. 内联列表</a>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#expressions-inline-maps">4.3.4. 内联Map</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-array-construction">4.3.5. Array
                                        构造</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-methods">4.3.6. 方法</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-operators">4.3.7. 操作</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#expressions-operators-relational">关系操作符</a>
                                            </li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#expressions-operators-logical">逻辑运算符</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#expressions-operators-mathematical">数学操作符</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#expressions-assignment">赋值运算符</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#expressions-types">4.3.8. 类型</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-constructors">4.3.9. 构造器</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-ref-variables">4.3.10. 变量</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#expressions-this-root"><code>#this</code>
                                                    和 <code>#root</code> 变量</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#expressions-ref-functions">4.3.11. 函数</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-bean-references">4.3.12. Bean
                                        引用</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-operator-ternary">4.3.13.
                                        三元运算符（If-Then-Else）</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-operator-elvis">4.3.14.
                                        埃尔维斯（Elvis）运算符</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-operator-safe-navigation">4.3.15.
                                        安全的导航操作</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-collection-selection">4.3.16.
                                        Collection Selection（选择）</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-collection-projection">4.3.17.
                                        Collection 投影</a></li>
                                    <li><a href="fg.cn/spring/core.html#expressions-templating">4.3.18. 表达式模板化</a>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#expressions-example-classes">4.4. 实例中使用的Class</a>
                            </li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#aop">5. 用Spring进行面向切面的编程</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#aop-introduction-defn">5.1. AOP 概念</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-introduction-spring-defn">5.2. Spring AOP
                                的能力和目标</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-introduction-proxies">5.3. AOP 代理</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-ataspectj">5.4. @AspectJ 的支持</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-aspectj-support">5.4.1. 启用 @AspectJ
                                        的支持</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-enable-aspectj-java">用Java配置启用
                                                @AspectJ 的支持</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-enable-aspectj-xml">用XML配置启用
                                                @AspectJ 的支持</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#aop-at-aspectj">5.4.2. 声明一个 Aspect</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-pointcuts">5.4.3. 声明一个切点（Pointcut）</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-pointcuts-designators">支持的 <code>Pointcut</code>
                                                指定器</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-pointcuts-combining">组合切点（Pointcut）表达式</a>
                                            </li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#aop-common-pointcuts">共享命名切点的定义</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-pointcuts-examples">示例</a></li>
                                            <li><a href="fg.cn/spring/core.html#writing-good-pointcuts">写出好的切点（Pointcuts）</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#aop-advice">5.4.4. 声明 Advice</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-advice-before">Before Advice</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-advice-after-returning">After
                                                Returning Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-advice-after-throwing">After
                                                Throwing Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-advice-after-finally">After
                                                (Finally) Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-ataspectj-around-advice">Around
                                                Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-ataspectj-advice-params">Advice
                                                参数</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-ataspectj-advice-ordering">Advice
                                                顺序</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#aop-introductions">5.4.5. Introduction</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-instantiation-models">5.4.6. Aspect
                                        实例化模式</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-ataspectj-example">5.4.7. 一个AOP实例</a>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-schema">5.5. 基于Schema的AOP支持</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-schema-declaring-an-aspect">5.5.1. 声明一个
                                        Aspect</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-schema-pointcuts">5.5.2. 声明一个
                                        Pointcut</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-schema-advice">5.5.3. 声明 Advice</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-schema-advice-before">Before
                                                Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-schema-advice-after-returning">After
                                                Returning Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-schema-advice-after-throwing">After
                                                Throwing Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-schema-advice-after-finally">After
                                                (Finally) Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-schema-advice-around">Around
                                                Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-schema-params">Advice 参数</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-ordering">Advice 顺序</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#aop-schema-introductions">5.5.4.
                                        Introduction</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-schema-instantiation-models">5.5.5.
                                        切面实例化模型</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-schema-advisors">5.5.6. Advisor</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-schema-example">5.5.7. 一个 AOP Schema
                                        的例子</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-choosing">5.6. 选择使用哪种AOP声明风格</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-spring-or-aspectj">5.6.1. Spring AOP 还是完全的
                                        AspectJ?</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-ataspectj-or-xml">5.6.2.
                                        @AspectJ或XML用于Spring AOP？</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-mixing-styles">5.7. 混合切面类型</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-proxying">5.8. 代理机制</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-understanding-aop-proxies">5.8.1.
                                        了解AOP代理</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-aspectj-programmatic">5.9.
                                程序化创建@AspectJ代理</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-using-aspectj">5.10.
                                在Spring应用程序中使用AspectJ</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-atconfigurable">5.10.1.
                                        使用AspectJ对Spring的domain对象进行依赖注入</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-configurable-testing">单元测试
                                                <code>@Configurable</code> 对象</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-configurable-container">与多个
                                                Application Context 一起工作</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#aop-ajlib-other">5.10.2. 用于 AspectJ 的其他
                                        Spring 切面</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-aj-configure">5.10.3. 使用 Spring IoC 配置
                                        AspectJ Aspects</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-aj-ltw">5.10.4.
                                        在Spring框架中用AspectJ进行加载时织入（Load-time Weaving）</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-aj-ltw-first-example">第一个例子</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-aj-ltw-the-aspects">切面</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-aj-ltw-aop_dot_xml">'META-INF/aop.xml'</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-aj-ltw-libraries">所需的库（JAR）。</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-aj-ltw-spring">Spring 配置</a></li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#aop-aj-ltw-environments">特定环境的配置</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-resources">5.11. 更多资源</a></li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#aop-api">6. Spring AOP API</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#aop-api-pointcuts">6.1. Spring 中的 Pointcut API</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-api-concepts">6.1.1. 概念</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-pointcut-ops">6.1.2. 对 Pointcut
                                        的操作</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-pointcuts-aspectj">6.1.3. AspectJ 表达式的
                                        Pointcuts</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-pointcuts-impls">6.1.4. 方便的 Pointcut
                                        实现</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-api-pointcuts-static">静态
                                                Pointcut</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-api-pointcuts-dynamic">动态
                                                pointcuts</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-pointcuts-superclasses">6.1.5. Pointcut
                                        超类</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-pointcuts-custom">6.1.6. 自定义
                                        Pointcut</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-api-advice">6.2. Spring 的 Advice API</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-api-advice-lifecycle">6.2.1. Advice
                                        生命周期</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-advice-types">6.2.2. Spring 的 Advice
                                        Type</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-api-advice-around">Interception
                                                Around Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-api-advice-before">Before Advice</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-api-advice-throws">Throws Advice</a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-api-advice-after-returning">After
                                                Returning Advice</a></li>
                                            <li><a href="fg.cn/spring/core.html#aop-api-advice-introduction">Introduction
                                                Advice</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-api-advisor">6.3. Spring 中的 Advisor API</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-pfb">6.4. 使用 <code>ProxyFactoryBean</code> 创建AOP代理</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-pfb-1">6.4.1. 基础知识</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-pfb-2">6.4.2. JavaBean Properties</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-pfb-proxy-types">6.4.3. 基于 JDK 和 CGLIB
                                        的代理</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-proxying-intf">6.4.4. 代理接口</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-api-proxying-class">6.4.5. 代理类</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-global-advisors">6.4.6. 使用 “全局”
                                        （Global）Advisor</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-concise-proxy">6.5. 简明的代理定义</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-prog">6.6. 用 <code>ProxyFactory</code> 以编程方式创建AOP代理</a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-api-advised">6.7. 操作 advice 的对象</a></li>
                            <li><a href="fg.cn/spring/core.html#aop-autoproxy">6.8. 使用 "auto-proxy" （自动代理）设施</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-autoproxy-choices">6.8.1. Auto-proxy Bean
                                        定义</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#aop-api-autoproxy"><code>BeanNameAutoProxyCreator</code></a>
                                            </li>
                                            <li><a href="fg.cn/spring/core.html#aop-api-autoproxy-default"><code>DefaultAdvisorAutoProxyCreator</code></a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-targetsource">6.9. 使用 <code>TargetSource</code> 实现</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#aop-ts-swap">6.9.1. 可热插拔的目标源</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-ts-pool">6.9.2. 池化目标源</a></li>
                                    <li><a href="fg.cn/spring/core.html#aop-ts-prototype">6.9.3. Prototype 目标源</a>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#aop-ts-threadlocal">6.9.4.
                                        <code>ThreadLocal</code> 目标源</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#aop-extensibility">6.10. 定义新的 Advice Type</a></li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#null-safety">7. Null安全（Null-safety）</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B">7.1. 使用案例</a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#jsr-305%E5%85%83%E6%B3%A8%E8%A7%A3">7.2.
                                JSR-305元注解</a></li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#databuffers">8. Data Buffer 和编解码器</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#databuffers-factory">8.1. <code>DataBufferFactory</code></a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#databuffers-buffer">8.2. <code>DataBuffer</code></a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#databuffers-buffer-pooled">8.3.
                                <code>PooledDataBuffer</code></a></li>
                            <li><a href="fg.cn/spring/core.html#databuffers-utils">8.4. <code>DataBufferUtils</code></a>
                            </li>
                            <li><a href="fg.cn/spring/core.html#codecs">8.5. 编解码器（Codecs）</a></li>
                            <li><a href="fg.cn/spring/core.html#databuffers-using">8.6. 使用 <code>DataBuffer</code></a>
                            </li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#spring-jcl">9. 日志（Logging）</a></li>
                    <li><a href="fg.cn/spring/core.html#core.aot">10. AOT 编译优化</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#core.aot.introduction">10.1. AOT 编译优化简介</a></li>
                            <li><a href="fg.cn/spring/core.html#core.aot.basics">10.2. AOT引擎概述</a></li>
                            <li><a href="fg.cn/spring/core.html#core.aot.refresh">10.3. AOT处理的刷新</a></li>
                            <li><a href="fg.cn/spring/core.html#core.aot.bean-factory-initialization-contributions">10.4.
                                Bean Factory 初始化AOT的贡献（Contributions）</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#core.aot.bean-registration-contributions">10.4.1.
                                        Bean注册AOT贡献（Contributions）</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#core.aot.hints">10.5. 运行时提示（Runtime Hints）</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#core.aot.hints.import-runtime-hints">10.5.1.
                                        <code>@ImportRuntimeHints</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#core.aot.hints.reflective">10.5.2. <code>@Reflective</code></a>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#core.aot.hints.register-reflection-for-binding">10.5.3.
                                        <code>@RegisterReflectionForBinding</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#core.aot.hints.testing">10.5.4. 测试运行时提示（Runtime
                                        Hints）</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="fg.cn/spring/core.html#core.appendix">11. 附录</a>
                        <ul class="sectlevel2">
                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas">11.1. XML Schema</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-util">11.1.1. <code>util</code>
                                        Schema</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-util-constant">使用
                                                    <code>&lt;util:constant/&gt;</code></a></li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-util-property-path">使用
                                                    <code>&lt;util:property-path/&gt;</code></a></li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-util-properties">使用
                                                    <code>&lt;util:properties/&gt;</code></a></li>
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-util-list">使用
                                                <code>&lt;util:list/&gt;</code></a></li>
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-util-map">使用
                                                <code>&lt;util:map/&gt;</code></a></li>
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-util-set">使用
                                                <code>&lt;util:set/&gt;</code></a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-aop">11.1.2.
                                        <code>aop</code> Schema</a></li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-context">11.1.3.
                                        <code>context</code> Schema</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-context-pphc">使用
                                                <code>&lt;property-placeholder/&gt;</code></a></li>
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-context-ac">使用
                                                <code>&lt;annotation-config/&gt;</code></a></li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-context-component-scan">使用
                                                    <code>&lt;component-scan/&gt;</code></a></li>
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-context-ltw">使用
                                                <code>&lt;load-time-weaver/&gt;</code></a></li>
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-context-sc">使用
                                                <code>&lt;spring-configured/&gt;</code></a></li>
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-context-mbe">使用
                                                <code>&lt;mbean-export/&gt;</code></a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-schemas-beans">11.1.4. Beans
                                        Schema</a></li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#core.appendix.xml-custom">11.2. XML Schema 编写</a>
                                <ul class="sectlevel3">
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-custom-schema">11.2.1. 编写
                                        Schema</a></li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-custom-namespacehandler">11.2.2.
                                        编写 <code>NamespaceHandler</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-custom-parser">11.2.3. 使用
                                        <code>BeanDefinitionParser</code></a></li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-custom-registration">11.2.4.
                                        注册 Handler 和 Schema</a>
                                        <ul class="sectlevel4">
                                            <li>
                                                <a href="fg.cn/spring/core.html#core.appendix.xsd-custom-registration-spring-handlers">编写
                                                    <code>META-INF/spring.handlers</code></a></li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#core.appendix.xsd-custom-registration-spring-schemas">编写
                                                    'META-INF/spring.schemas'</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-custom-using">11.2.5.
                                        在你的Spring XML配置中使用一个自定义扩展</a></li>
                                    <li><a href="fg.cn/spring/core.html#core.appendix.xsd-custom-meat">11.2.6.
                                        更详细的例子</a>
                                        <ul class="sectlevel4">
                                            <li><a href="fg.cn/spring/core.html#core.appendix.xsd-custom-custom-nested">在自定义元素中嵌套自定义元素</a>
                                            </li>
                                            <li>
                                                <a href="fg.cn/spring/core.html#core.appendix.xsd-custom-custom-just-attributes">在
                                                    “Normal” 元素上的自定义属性</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="fg.cn/spring/core.html#core.appendix.application-startup-steps">11.3.
                                应用程序的启动步骤</a></li>
                        </ul>
                    </li>
                    </ul>
                </div>
            </div>
            <div id="content">
                <div id="preamble">
                    <div class="sectionbody">
                        <div class="admonitionblock warning">
                            <table>
                                <tbody>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-warning" title="Warning"></i>
                                    </td>
                                    <td class="content">
                                        本站(<a href="fg.cn/">springdoc.cn</a>)中的内容来源于 <a
                                            href="https://spring.io/">spring.io</a> ，原始版权归属于 <a
                                            href="https://spring.io/">spring.io</a>。由 <a href="fg.cn/">springdoc.cn</a>
                                        进行翻译，整理。可供个人学习、研究，未经许可，不得进行任何转载、商用或与之相关的行为。
                                        商标声明：Spring 是 Pivotal Software, Inc. 在美国以及其他国家的商标。
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>这一部分的参考文档涵盖了所有与Spring框架绝对相关的技术。</p>
                        </div>
                        <div class="paragraph">
                            <p>
                                其中最重要的是Spring框架的反转控制（IoC）容器。在对Spring框架的IoC容器进行彻底处理后，紧接着是对Spring面向切面编程（AOP）技术的全面介绍。Spring框架有自己的AOP框架，在概念上很容易理解，它成功地解决了Java企业编程中
                                AOP 要求的 80% 的最佳需求点。</p>
                        </div>
                        <div class="paragraph">
                            <p>此外，还介绍了Spring与AspectJ（目前Java企业领域中功能最丰富、最成熟的AOP实现）的集成情况。</p>
                        </div>
                        <div class="paragraph">
                            <p>
                                AOT处理可以用来提前（ahead-of-time）优化你的应用程序。它通常用于使用GraalVM的原生镜像部署。</p>


                        </div>
                    </div>
                </div>
                <div class="sect1">
                    <h2 id="beans"><a class="anchor" href="fg.cn/spring/core.html#beans"></a>1. IoC 容器</h2>
                    <div class="sectionbody">
                        <div class="paragraph">
                            <p>本章介绍了Spring的反转控制（IoC）容器。</p>
                        </div>
                        <script>


                        </script>
                        <div class="sect2">
                            <h3 id="beans-introduction"><a class="anchor"
                                                           href="fg.cn/spring/core.html#beans-introduction"></a>1.1.
                                Spring IoC容器和Bean简介</h3>
                            <div class="paragraph">
                                <p>
                                    本章介绍了Spring框架对反转控制（IoC）原则的实现。IoC也被称为依赖注入（DI）。它是一个过程，对象仅通过构造参数、工厂方法的参数或在对象实例被构造或从工厂方法返回后在其上设置的属性来定义其依赖关系（即它们与之合作的其他对象）。然后容器在创建
                                    bean
                                    时注入这些依赖关系。这个过程从根本上说是Bean本身通过使用直接构建类或诸如服务定位模式的机制来控制其依赖关系的实例化或位置的逆过程（因此被称为控制反转）。</p>
                            </div>
                            <div class="paragraph">
                                <p><code>org.springframework.beans</code> 和 <code>org.springframework.context</code>
                                    包是Spring Framework的IoC容器的基础。 <a
                                            href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/beans/factory/BeanFactory.html"><code>BeanFactory</code></a>
                                    接口提供了一种高级配置机制，能够管理任何类型的对象。 <a
                                            href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/context/ApplicationContext.html"><code>ApplicationContext</code></a>
                                    是 <code>BeanFactory</code> 的一个子接口。它增加了：</p>
                            </div>
                            <div class="ulist"><p>更容易与Spring的AOP功能集成</p>
                                </li>
                                <li>
                                    <p>Message resource 处理（用于国际化）</p>
                                </li>
                                <li>
                                    <p>事件发布</p>
                                </li>
                                <li>
                                    <p>应用层的特定上下文，如 <code>WebApplicationContext</code>，用于 web 应用</p>
                                </li>
                                </ul>
                            </div>
                            <div class="paragraph">
                                <p>简而言之，<code>BeanFactory</code> 提供了配置框架和基本功能，而 <code>ApplicationContext</code>
                                    则增加了更多的企业特定功能。<code>ApplicationContext</code> 是
                                    <code>BeanFactory</code> 的一个完整的超集，在本章对Spring的IoC容器的描述中专门使用。关于使用
                                    <code>BeanFactory</code> 而不是 <code>ApplicationContext</code> 的更多信息，请参见涵盖
                                    <a href="fg.cn/spring/core.html#beans-beanfactory"><code>BeanFactory</code> API</a>
                                    的章节。</p>
                            </div>
                            <div class="paragraph">
                                <p>在Spring中，构成你的应用程序的骨干并由Spring IoC容器管理的对象被称为Bean。Bean是一个由Spring
                                    IoC容器实例化、组装和管理的对象。否则，Bean只是你的应用程序中众多对象中的一个。Bean以及它们之间的依赖关系都反映在容器使用的配置元数据中。</p>
                            </div>
                        </div>
                        <div class="sect2">
                            <div class="paragraph">
                                <p><code>org.springframework.context.ApplicationContext</code> 接口代表Spring
                                    IoC容器，负责实例化、配置和组装bean。容器通过读取配置元数据来获得关于要实例化、配置和组装哪些对象的指示。配置元数据以XML、Java注解或Java代码表示。它可以让你表达构成你的应用程序的对象以及这些对象之间丰富的相互依赖关系。
                                </p>
                            </div>
                            <div class="paragraph">
                                <p>Spring提供了几个 <code>ApplicationContext</code> 接口的实现。在独立的应用程序中，创建
                                    <a href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/context/support/ClassPathXmlApplicationContext.html"><code>ClassPathXmlApplicationContext</code></a>
                                    或
                                    <a href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/context/support/FileSystemXmlApplicationContext.html"><code>FileSystemXmlApplicationContext</code></a>
                                    的实例很常见。虽然 XML 一直是定义配置元数据的传统格式，但你可以通过提供少量的 XML
                                    配置来指示容器使用 Java 注解或代码作为元数据格式，以声明性地启用对这些额外元数据格式的支持。
                                </p>
                            </div>

                            <div class="paragraph" id="mmc">
                                <p id="mcontent">你的应用程序类与配置元数据相结合</p>
                            </div>
                            <div class="paragraph">

                            </div>
                            <div class="paragraph">
                                <p><span>在大多数应用场景中</span>，<span id="next">不需要明确的用户代码来实例化</span>Spring
                                    IoC容器的一个或多个实例。例如，在Web应用场景中，通常只需在应用程序的
                                    <code>web.xml</code> 文件中编写8行（或更多）模板式的Web描述符就足够了（参见 <a
                                            href="fg.cn/spring/core.html#context-create">为web应用程序提供方便的 <code>ApplicationContext</code>
                                        实例化</a>）。如果你使用 <a href="https://spring.io/tools">Spring Tools for
                                        Eclipse</a>（一个由Eclipse驱动的开发环境），你只需点击几下鼠标或按键就可以轻松创建这种模板配置。
                                </p>
                            </div>
                            <div class="paragraph">
                                <p>下图显示了Spring工作方式的高层视图。你的应用程序类与配置元数据相结合，这样，在 <code>ApplicationContext</code>
                                    被创建和初始化后，你就有了一个完全配置好的可执行系统或应用程序。</p>

                            </div>


                            <div class="sect3">

                                <div class="paragraph">
                                    <p><span id="pr">如上图所示</span>，<span id="ne">Spring IoC</span>。
                                        <input type="text" id="l" value="1" style="width: 37px">，作为一个应用开发者，如何告诉Spring容器在你的应用中实例化、配置和组装对象。
                                    </p>
                                </div>
                                <div class="paragraph">
                                </div>
                                <div class="paragraph">
                                    <p>配置元数据传统上是以简单直观的XML格式提供的，这也是本章大部分内容用来传达Spring
                                        IoC容器的关键概念和特性。</p>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>关于在Spring容器中使用其他形式的元数据的信息，请参见。</p>
                            </div>
                            <div class="ulist">
                                <ul>
                                    <li>
                                        <p><a href="fg.cn/spring/core.html#beans-annotation-config">基于注解的配置</a>:
                                            使用基于注解的配置元数据定义Bean。</p>
                                    </li>
                                    <li>
                                        <p><a href="fg.cn/spring/core.html#beans-java">Java-based configuration</a>:
                                            通过使用Java而不是XML文件来定义你的应用类外部的Bean。要使用这些特性，请参阅
                                            <a href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/context/annotation/Configuration.html"><code>@Configuration</code></a>,
                                            <a href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/context/annotation/Bean.html"><code>@Bean</code></a>,
                                            <a href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/context/annotation/Import.html"><code>@Import</code></a>,
                                            和
                                            <a href="https://docs.spring.io/spring-framework/docs/6.0.8-SNAPSHOT/javadoc-api/org/springframework/context/annotation/DependsOn.html"><code>@DependsOn</code></a>
                                            注解。</p>
                                    </li>
                                </ul>


                            </div>
                            <div class="paragraph">
                                <p>置包括至少一个，通常是一个以上的Bean定义，容器必须管理这些定义。基于XML的配置元数据将这些Bean配置为顶层
                                    <code>&lt;beans/&gt;</code> 元素内的 <code>&lt;bean/&gt;</code> 元素。Java配置通常使用
                                    <code>@Configuration</code> 类中的 <code>@Bean</code> 注解的方法。</p>
                            </div>
                            <div class="paragraph">
                                <p>
                                    这些Bean的定义对应于构成你的应用程序的实际对象。通常，你会定义服务层对象、持久层对象（如存储库或数据访问对象（DAO））、表现对象（如Web控制器）、基础设施对象（如JPA
                                    <code>EntityManagerFactory</code>）、JMS队列等等。通常，人们不会在容器中配置细粒度的domain对象，因为创建和加载domain对象通常是
                                    repository 和业务逻辑的责任。</p>
                            </div>
                            <div class="paragraph">
                                <p>下面的例子显示了基于XML的配置元数据的基本结构。</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
<pre class="highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span
        class="hljs-string">"http://www.springframework.org/schema/beans"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span
            class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"..."</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"..."</span>&gt;</span> <i
            class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="hljs-comment">&lt;!-- 这个bean的合作者和配置在这里 --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"..."</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"..."</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- c这个bean的合作者和配置在这里 --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 更多bean 定义在这里 --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code><div class="codetools"><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td><code>id</code> 属性是一个字符串，用于识别单个Bean定义。</td>
                                    </tr>
                                    <tr>
                                        <td><i class="conum" data-value="2"></i><b>2</b></td>
                                        <td><code>class</code> 属性定义了 Bean 的类型，并使用类的全路径名。</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="paragraph">
                                <p><code>id</code> 属性的值可以用来指代协作对象。本例中没有显示用于引用协作对象的XML。更多信息请参见
                                    <a href="fg.cn/spring/core.html#beans-dependencies">依赖</a>。</p>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="beans-factory-instantiation"><a class="anchor"
                                                                    href="fg.cn/spring/core.html#beans-factory-instantiation"></a>1.2.2.
                                实例化一个容器</h4>
                            <div class="paragraph">
                                <p>提供给 <code>ApplicationContext</code> 构造函数的一条或多条路径是资源字符串，它让容器从各种外部资源（如本地文件系统、Java
                                    <code>CLASSPATH</code> 等）加载配置元数据。</p>
                            </div>
                            <div class="listingblock primary tabs-content">
                                <div class="tabs">
                                    <div class="tab selected" data-block-name="Java">Java</div>
                                    <div class="tab" data-block-name="Kotlin">Kotlin</div>
                                </div>
                                <div class="content" data-block-name="Java">
<pre class="highlight"><code class="language-java hljs" data-lang="java">ApplicationContext context = <span
        class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"services.xml"</span>, <span
        class="hljs-string">"daos.xml"</span>);
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                                <div class="content hidden" data-block-name="Kotlin">
<pre class="highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-keyword">val</span> context = ClassPathXmlApplicationContext(<span
        class="hljs-string">"services.xml"</span>, <span class="hljs-string">"daos.xml"</span>)
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="admonitionblock note">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td class="icon">
                                            <i class="fa icon-note" title="Note"></i>
                                        </td>
                                        <td class="content">
                                            <div class="paragraph">
                                                <p>在了解了Spring的IoC容器后，你可能想了解更多关于Spring的
                                                    <code>Resource</code> 抽象（如 <a
                                                            href="fg.cn/spring/core.html#resources">资源（Resources）</a>
                                                    中所述），它为从URI语法中定义的位置读取 InputStream 提供了方便的机制。特别是，<code>Resource</code>
                                                    路径被用来构建应用上下文，如 <a
                                                            href="fg.cn/spring/core.html#resources-app-ctx">Application
                                                        Context 和资源路径</a> 中所述。</p>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="paragraph">
                                <p>下面的例子显示了 service 对象（<code>services.xml</code>）配置文件。</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
<pre class="highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span
        class="hljs-string">"http://www.springframework.org/schema/beans"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span
            class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- services --&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"petStore"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.samples.jpetstore.services.PetStoreServiceImpl"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span
                class="hljs-string">"accountDao"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"accountDao"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span
                class="hljs-string">"itemDao"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"itemDao"</span>/&gt;</span>
        <span class="hljs-comment">&lt;!-- additional collaborators and configuration for this bean go here --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- more bean definitions for services go here --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code><div class="codetools"><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>下面的例子显示了数据访问对象（data access object） <code>daos.xml</code> 文件。</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
<pre class="highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span
        class="hljs-string">"http://www.springframework.org/schema/beans"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span
            class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"accountDao"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.samples.jpetstore.dao.jpa.JpaAccountDao"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- additional collaborators and configuration for this bean go here --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"itemDao"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.samples.jpetstore.dao.jpa.JpaItemDao"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- additional collaborators and configuration for this bean go here --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- more bean definitions for data access objects go here --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code><div class="codetools"><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>在前面的例子中，服务层由 <code>PetStoreServiceImpl</code> 类和两个类型为 <code>JpaAccountDao</code>
                                    和 <code>JpaItemDao</code> 的数据访问对象组成（基于JPA对象-关系映射标准）。<code>property
                                        name</code> 元素指的是 JavaBean 属性的名称，而 <code>ref</code>
                                    元素指的是另一个Bean定义的名称。<code>id</code> 和 <code>ref</code>
                                    元素之间的这种联系表达了协作对象之间的依赖关系。关于配置一个对象的依赖关系的细节，请看
                                    <a href="fg.cn/spring/core.html#beans-dependencies">依赖</a>。</p>
                            </div>
                            <div class="sect4">
                                <h5 id="beans-factory-xml-import"><a class="anchor"
                                                                     href="fg.cn/spring/core.html#beans-factory-xml-import"></a>构建基于XML的配置元数据
                                </h5>
                                <div class="paragraph">
                                    <p>
                                        让Bean的定义跨越多个XML文件可能很有用。通常情况下，每个单独的XML配置文件代表了你架构中的一个逻辑层或模块。</p>
                                </div>
                                <div class="paragraph">
                                    <p>你可以使用 application context 构造函数从所有这些XML片段中加载Bean定义。这个构造函数需要多个
                                        <code>Resource</code> 位置，如 <a
                                                href="fg.cn/spring/core.html#beans-factory-instantiation">上一节</a>
                                        所示。或者，使用一个或多个 <code>&lt;import/&gt;</code>
                                        元素的出现来从另一个或多个文件中加载Bean定义。下面的例子展示了如何做到这一点。</p>
                                </div>
                                <div class="listingblock">
                                    <div class="content">
<pre class="highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">beans</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span
            class="hljs-string">"services.xml"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span
            class="hljs-string">"resources/messageSource.xml"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span
            class="hljs-string">"/resources/themeSource.xml"</span>/&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"bean1"</span> <span class="hljs-attr">class</span>=<span
            class="hljs-string">"..."</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"bean2"</span> <span class="hljs-attr">class</span>=<span
            class="hljs-string">"..."</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code><div class="codetools"><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                    </div>
                                </div>
                                <div class="paragraph">
                                    <p>在前面的例子中，外部Bean定义从三个文件中加载：<code>services.xml</code>、<code>messageSource.xml</code>
                                        和 <code>themeSource.xml</code>。所有的位置路径都是相对于进行导入的定义文件而言的，所以
                                        <code>services.xml</code> 必须与进行导入的文件在同一目录或 classpath 位置，而
                                        <code>messageSource.xml</code> 和 <code>themeSource.xml</code> 必须在导入文件的位置以下的
                                        <code>resources</code> 位置。正如你所看到的，前导斜线会被忽略。然而，鉴于这些路径是相对的，最好不要使用斜线。被导入文件的内容，包括顶层的
                                        <code>&lt;beans/&gt;</code> 元素，必须是有效的XML Bean定义，根据Spring Schema。</p>
                                </div>
                                <div class="admonitionblock note">
                                    <table>
                                        <tbody>
                                        <tr>
                                            <td class="icon">
                                                <i class="fa icon-note" title="Note"></i>
                                            </td>
                                            <td class="content">
                                                <div class="paragraph">
                                                    <p>使用相对的 "../"
                                                        路径来引用父目录中的文件是可能的，但不推荐这样做。这样做会造成对当前应用程序之外的文件的依赖。特别是，这种引用不推荐用于
                                                        <code>classpath:</code> URL（例如， <code>classpath:../services.xml</code>），其中运行时解析过程选择
                                                        "最近的" classpath root，然后查找其父目录。Classpath配置的变化可能导致选择不同的、不正确的目录。
                                                    </p>
                                                </div>
                                                <div class="paragraph">
                                                    <p>你总是可以使用完全限定的资源位置而不是相对路径：例如，<code>file:C:/config/services.xml</code>
                                                        或 <code>classpath:/config/services.xml</code>。然而，请注意，你正在将你的应用程序的配置与特定的绝对位置相耦合。一般来说，最好是为这种绝对位置保留一个指示
                                                        - 例如，通过 "${…​}" 占位符，在运行时针对JVM系统属性（system
                                                        properties）进行解析。</p>
                                                </div>
                                            </td>

                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="paragraph">
                                    <p>命名空间本身提供了导入指令的功能。除了普通的Bean定义之外。更多的配置功能可以在Spring提供的一些XML命名空间中获得，例如，<code>context</code>
                                        和 <code>util</code> 命名空间。</p>
                                </div>
                            </div>
                            <div class="sect4">
                                <h5 id="groovy-bean-definition-dsl"><a class="anchor"
                                                                       href="fg.cn/spring/core.html#groovy-bean-definition-dsl"></a>Groovy
                                    Bean Definition DSL</h5>
                                <div class="paragraph">
                                    <p>作为外部化配置元数据的另一个例子，Bean定义也可以用Spring的Groovy Bean Definition
                                        DSL来表达，正如Grails框架所知道的。通常情况下，这种配置存在于 ".groovy"
                                        文件中，其结构如下例所示。</p>
                                </div>
                                <div class="listingblock">
                                    <div class="content">
<pre class="highlight"><code class="language-groovy hljs" data-lang="groovy">beans {
    dataSource(BasicDataSource) {
        driverClassName = <span class="hljs-string">"org.hsqldb.jdbcDriver"</span>
        url = <span class="hljs-string">"jdbc:hsqldb:mem:grailsDB"</span>
        username = <span class="hljs-string">"sa"</span>
        password = <span class="hljs-string">""</span>
        settings = [<span class="hljs-attr">mynew:</span><span class="hljs-string">"setting"</span>]
    }
    sessionFactory(SessionFactory) {
        dataSource = dataSource
    }
    myService(MyService) {
        nestedBean = { AnotherBean bean -&gt;
            dataSource = dataSource
        }
    }
}
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                    </div>
                                </div>
                                <div class="paragraph">
                                    <p>这种配置风格基本上等同于XML Bean定义，甚至支持Spring的XML配置命名空间。它还允许通过
                                        <code>importBeans</code> 指令导入XML Bean定义文件。</p>
                                </div>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="beans-factory-client"><a class="anchor"
                                                             href="fg.cn/spring/core.html#beans-factory-client"></a>1.2.3.
                                使用容器</h4>
                            <div class="paragraph">
                                <p><code>ApplicationContext</code> 是一个高级工厂的接口，能够维护不同Bean及其依赖关系的注册表。通过使用方法
                                    <code>T getBean(String name, Class&lt;T&gt; requiredType)</code>，你可以检索到Bean的实例。
                                </p>
                            </div>
                            <div class="paragraph">
                                <p><code>ApplicationContext</code> 可以让你读取Bean定义（definition）并访问它们，如下例所示。
                                </p>
                            </div>
                            <div class="listingblock primary tabs-content">
                                <div class="tabs">
                                    <div class="tab selected" data-block-name="Java">Java</div>
                                    <div class="tab" data-block-name="Kotlin">Kotlin</div>
                                </div>

                                <div class="content" data-block-name="Java">
<pre class="highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-comment">// 创建和配置bean</span>
ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span
            class="hljs-string">"services.xml"</span>, <span class="hljs-string">"daos.xml"</span>);

<span class="hljs-comment">// 检索配置的实例</span>
PetStoreService service = context.getBean(<span class="hljs-string">"petStore"</span>, PetStoreService.class);

<span class="hljs-comment">// 使用配置的实例</span>
List&lt;String&gt; userList = service.getUsernameList();
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                                <div class="content hidden" data-block-name="Kotlin">
<pre class="highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="fold-block hide-when-folded"><span class="hljs-keyword">import</span> org.springframework.beans.factory.getBean

</span><span class="fold-block"><span class="hljs-comment">// 创建和配置bean</span>
<span class="hljs-keyword">val</span> context = ClassPathXmlApplicationContext(<span
            class="hljs-string">"services.xml"</span>, <span class="hljs-string">"daos.xml"</span>)

<span class="hljs-comment">// 检索配置的实例</span>
<span class="hljs-keyword">val</span> service = context.getBean&lt;PetStoreService&gt;(<span class="hljs-string">"petStore"</span>)

<span class="hljs-comment">// 使用配置的实例</span>
<span class="hljs-keyword">var</span> userList = service.getUsernameList()
</span></code><div class="codetools"><button class="undefined unfold-button" title="Expand folded text"
                                             type="button"><span class="label">Expand folded text</span></button><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>通过Groovy配置，引导看起来非常相似。它有一个不同的 context 实现类，它能识别Groovy（但也能理解XML
                                    bean定义）。下面的例子显示了 Groovy 配置。</p>
                            </div>
                            <div class="listingblock primary tabs-content">
                                <div class="tabs">
                                    <div class="tab selected" data-block-name="Java">Java</div>
                                    <div class="tab" data-block-name="Kotlin">Kotlin</div>
                                </div>

                                <div class="content" data-block-name="Java">
<pre class="highlight"><code class="language-java hljs" data-lang="java">ApplicationContext context = <span
        class="hljs-keyword">new</span> GenericGroovyApplicationContext(<span
        class="hljs-string">"services.groovy"</span>, <span class="hljs-string">"daos.groovy"</span>);
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                                <div class="content hidden" data-block-name="Kotlin">
<pre class="highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-keyword">val</span> context = GenericGroovyApplicationContext(<span
        class="hljs-string">"services.groovy"</span>, <span class="hljs-string">"daos.groovy"</span>)
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>最灵活的变体是 <code>GenericApplicationContext</code> 与 reader delegate 的结合—​例如，与
                                    <code>XmlBeanDefinitionReader</code> 一起用于XML文件，如下例所示。</p>
                            </div>
                            <div class="listingblock primary tabs-content">
                                <div class="tabs">
                                    <div class="tab selected" data-block-name="Java">Java</div>
                                    <div class="tab" data-block-name="Kotlin">Kotlin</div>
                                </div>
                                <div class="content" data-block-name="Java">
<pre class="highlight"><code class="language-java hljs" data-lang="java">GenericApplicationContext context = <span
        class="hljs-keyword">new</span> GenericApplicationContext();
<span class="hljs-keyword">new</span> XmlBeanDefinitionReader(context).loadBeanDefinitions(<span class="hljs-string">"services.xml"</span>, <span
            class="hljs-string">"daos.xml"</span>);
context.refresh();
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                                <div class="content hidden" data-block-name="Kotlin">
<pre class="highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-keyword">val</span> context = GenericApplicationContext()
XmlBeanDefinitionReader(context).loadBeanDefinitions(<span class="hljs-string">"services.xml"</span>, <span
            class="hljs-string">"daos.xml"</span>)
context.refresh()
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>你也可以将 <code>GroovyBeanDefinitionReader</code> 用于Groovy文件，如下例所示。</p>
                            </div>
                            <div class="listingblock primary tabs-content">
                                <div class="tabs">
                                    <div class="tab selected" data-block-name="Java">Java</div>
                                    <div class="tab" data-block-name="Kotlin">Kotlin</div>
                                </div>

                                <div class="content" data-block-name="Java">
<pre class="highlight"><code class="language-java hljs" data-lang="java">GenericApplicationContext context = <span
        class="hljs-keyword">new</span> GenericApplicationContext();
<span class="hljs-keyword">new</span> GroovyBeanDefinitionReader(context).loadBeanDefinitions(<span class="hljs-string">"services.groovy"</span>, <span
            class="hljs-string">"daos.groovy"</span>);
context.refresh();
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                                <div class="content hidden" data-block-name="Kotlin">
<pre class="highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-keyword">val</span> context = GenericApplicationContext()
GroovyBeanDefinitionReader(context).loadBeanDefinitions(<span class="hljs-string">"services.groovy"</span>, <span
            class="hljs-string">"daos.groovy"</span>)
context.refresh()
</code><div class="codetools"><button class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>你可以在同一个 <code>ApplicationContext</code> 上混合和匹配这样的 reader
                                    delegate，从不同的配置源读取bean定义。</p>
                            </div>
                            <div class="paragraph">
                                <p>然后你可以使用 <code>getBean</code> 来检索Bean的实例。<code>ApplicationContext</code>
                                    接口还有其他一些检索Bean的方法，但理想情况下，你的应用代码不应该使用这些方法。事实上，你的应用程序代码根本就不应该调用
                                    <code>getBean()</code> 方法，因此对Spring的API根本就没有依赖性。例如，Spring与Web框架的集成为各种Web框架组件（如
                                    controller 和JSF管理的Bean）提供了依赖注入，让你通过元数据（如autowiring注解）声明对特定Bean的依赖。
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="sect2">
                        <h3 id="beans-definition"><a class="anchor" href="fg.cn/spring/core.html#beans-definition"></a>1.3.
                            Bean 概览
                        </h3>
                        <div class="paragraph">
                            <p>一个Spring IoC容器管理着一个或多个Bean。这些Bean是用你提供给容器的配置元数据创建的（例如，以XML
                                <code>&lt;bean/&gt;</code> 定义的形式）。</p>
                        </div>
                        <div class="paragraph">
                            <p>在容器本身中，这些Bean定义被表示为 <code>BeanDefinition</code> 对象，它包含（除其他信息外）以下元数据。
                            </p>
                        </div>
                        <div class="ulist">
                            <ul>

                                <li>
                                    <p>一个全路径类名：通常，被定义的Bean的实际实现类。</p>
                                </li>
                                <li>
                                    <p>
                                        Bean的行为配置元素，它说明了Bean在容器中的行为方式（scope、生命周期回调，等等）。</p>
                                </li>
                                <li>
                                    <p>对其他Bean的引用，这些Bean需要做它的工作。这些引用也被称为合作者或依赖。</p>
                                </li>
                                <li>
                                    <p>
                                        要在新创建的对象中设置的其他配置设置—​例如，pool的大小限制或在管理连接池的Bean中使用的连接数。</p>
                                </li>
                            </ul>
                        </div>
                        <div class="paragraph">
                            <p>这个元数据转化为构成每个Bean定义的一组属性。下表描述了这些属性。</p>
                        </div>
                        <table id="beans-factory-bean-definition-tbl" class="tableblock frame-all grid-all stretch">
                            <caption class="title">Table 1. bean definition</caption>
                            <colgroup>
                                <col style="width: 50%;">
                                <col style="width: 50%;">
                            </colgroup>
                            <thead>
                            <tr>
                                <th class="tableblock halign-left valign-top">属性</th>
                                <th class="tableblock halign-left valign-top">解释…​</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Class</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-class">实例化 Bean</a></p></td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-beanname">Bean 命名</a></p></td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Scope</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-scopes">Bean Scope</a></p></td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Constructor
                                    arguments</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-collaborators">依赖注入</a></p>
                                </td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Properties</p>
                                </td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-collaborators">依赖注入</a></p>
                                </td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Autowiring
                                    mode</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-autowire">注入协作者（Autowiring
                                    Collaborators）</a></p></td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Lazy
                                    initialization mode</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-lazy-init">懒加载的Bean</a></p>
                                </td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Initialization
                                    method</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-lifecycle-initializingbean">初始化回调</a>
                                </p></td>
                            </tr>
                            <tr>
                                <td class="tableblock halign-left valign-top"><p class="tableblock">Destruction
                                    method</p></td>
                                <td class="tableblock halign-left valign-top"><p class="tableblock"><a
                                        href="fg.cn/spring/core.html#beans-factory-lifecycle-disposablebean">销毁回调</a>
                                </p></td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="paragraph">
                            <p>除了包含如何创建特定 Bean 的信息的 Bean 定义外，<code>ApplicationContext</code>
                                实现还允许注册在容器外（由用户）创建的现有对象。这是通过 <code>getBeanFactory()</code>
                                方法访问 <code>ApplicationContext</code> 的 <code>BeanFactory</code> 来实现的，该方法返回
                                <code>DefaultListableBeanFactory</code> 实现。<code>DefaultListableBeanFactory</code>
                                通过 <code>registerSingleton(..)</code> 和 <code>registerBeanDefinition(..)</code>
                                方法支持这种注册。然而，典型的应用程序只与通过常规Bean定义元数据定义的Bean一起工作。
                            </p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tbody>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        <div class="paragraph">

                                            <p>Bean
                                                元数据和手动提供的单体实例需要尽早注册，以便容器在自动注入和其它内省步骤中正确推导它们。虽然在某种程度上支持覆盖现有的元数据和现有的单体实例，但
                                                <strong>官方不支持在运行时注册新的Bean</strong>（与对工厂的实时访问同时进行），这可能会导致并发访问异常、Bean容器中的不一致状态，或者两者都有。
                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">

<pre class="highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">xsd:schema</span> <span class="hljs-attr">xmlns</span>=<span
        class="hljs-string">"http://www.foo.example/schema/jcache"</span>
        <span class="hljs-attr">xmlns:xsd</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span>
        <span class="hljs-attr">targetNamespace</span>=<span
            class="hljs-string">"http://www.foo.example/schema/jcache"</span>
        <span class="hljs-attr">elementFormDefault</span>=<span class="hljs-string">"qualified"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">xsd:attribute</span> <span class="hljs-attr">name</span>=<span
            class="hljs-string">"cache-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">xsd:schema</span>&gt;</span></code><div class="codetools"><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>接下来，我们需要创建相关的 <code>NamespaceHandler</code>，如下所示。
                        </div>
                        <div class="listingblock primary tabs-content">
                            <div class="tabs">
                                <div class="tab selected" data-block-name="Java">Java</div>
                                <div class="tab" data-block-name="Kotlin">Kotlin</div>
                            </div>

                            <div class="content" data-block-name="Java">
<pre class="highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block"><span
        class="hljs-keyword">package</span> com.foo;

</span><span class="fold-block hide-when-folded"><span class="hljs-keyword">import</span> org.springframework.beans.factory.xml.NamespaceHandlerSupport;

</span><span class="fold-block"><span class="hljs-keyword">public</span> <span class="hljs-class"><span
        class="hljs-keyword">class</span> <span class="hljs-title">JCacheNamespaceHandler</span> <span
        class="hljs-keyword">extends</span> <span class="hljs-title">NamespaceHandlerSupport</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span
            class="hljs-title">init</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>.registerBeanDefinitionDecoratorForAttribute(<span class="hljs-string">"cache-name"</span>,
            <span class="hljs-keyword">new</span> JCacheInitializingBeanDefinitionDecorator());
    }

}








</span></code><div class="codetools"><button class="undefined unfold-button" title="Expand folded text"
                                             type="button"><span class="label">Expand folded text</span></button><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                            </div>
                            <div class="content hidden" data-block-name="Kotlin">
<pre class="highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block"><span
        class="hljs-keyword">package</span> com.foo

</span><span class="fold-block hide-when-folded"><span class="hljs-keyword">import</span> org.springframework.beans.factory.xml.NamespaceHandlerSupport

</span><span class="fold-block"><span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">JCacheNamespaceHandler</span> : <span class="hljs-type">NamespaceHandlerSupport</span></span>() {

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">init</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.registerBeanDefinitionDecoratorForAttribute(<span class="hljs-string">"cache-name"</span>,
                JCacheInitializingBeanDefinitionDecorator())
    }

}
</span></code><div class="codetools"><button class="undefined unfold-button" title="Expand folded text"
                                             type="button"><span class="label">Expand folded text</span></button><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                            </div>
                        </div>

                        <div class="paragraph">
                            <p>接下来，我们需要创建解析器。注意，在这种情况下，因为我们要解析一个XML属性，所以我们写一个
                                <code>BeanDefinitionDecorator</code> 而不是 <code>BeanDefinitionParser</code>。下面的列表显示了我们的
                                <code>BeanDefinitionDecorator</code> 实现。</p>
                        </div>
                        <div class="listingblock primary tabs-content">
                            <div class="tabs">
                                <div class="tab selected" data-block-name="Java">Java</div>
                                <div class="tab" data-block-name="Kotlin">Kotlin</div>
                            </div>

                            <div class="content" data-block-name="Java">
<pre class="highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block"><span
        class="hljs-keyword">package</span> com.foo;
</span><span class="fold-block hide-when-folded"><span class="hljs-keyword">import</span> org.springframework.beans.factory.config.BeanDefinitionHolder;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.support.AbstractBeanDefinition;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.support.BeanDefinitionBuilder;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.xml.BeanDefinitionDecorator;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.xml.ParserContext;
<span class="hljs-keyword">import</span> org.w3c.dom.Attr;
<span class="hljs-keyword">import</span> org.w3c.dom.Node;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Arrays;
<span class="hljs-keyword">import</span> java.util.List;

</span><span class="fold-block"><span class="hljs-keyword">public</span> <span class="hljs-class"><span
        class="hljs-keyword">class</span> <span
        class="hljs-title">JCacheInitializingBeanDefinitionDecorator</span> <span class="hljs-keyword">implements</span> <span
        class="hljs-title">BeanDefinitionDecorator</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span
            class="hljs-keyword">final</span> String[] EMPTY_STRING_ARRAY = <span class="hljs-keyword">new</span> String[<span
            class="hljs-number">0</span>];

    <span class="hljs-function"><span class="hljs-keyword">public</span> BeanDefinitionHolder <span class="hljs-title">decorate</span><span
            class="hljs-params">(Node source, BeanDefinitionHolder holder,
            ParserContext ctx)</span> </span>{
        String initializerBeanName = registerJCacheInitializer(source, ctx);
        createDependencyOnJCacheInitializer(holder, initializerBeanName);
        <span class="hljs-keyword">return</span> holder;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span
            class="hljs-title">createDependencyOnJCacheInitializer</span><span class="hljs-params">(BeanDefinitionHolder holder,
            String initializerBeanName)</span> </span>{
        AbstractBeanDefinition definition = ((AbstractBeanDefinition) holder.getBeanDefinition());
        String[] dependsOn = definition.getDependsOn();
        <span class="hljs-keyword">if</span> (dependsOn == <span class="hljs-keyword">null</span>) {
            dependsOn = <span class="hljs-keyword">new</span> String[]{initializerBeanName};
        } <span class="hljs-keyword">else</span> {
            List dependencies = <span class="hljs-keyword">new</span> ArrayList(Arrays.asList(dependsOn));
            dependencies.add(initializerBeanName);
            dependsOn = (String[]) dependencies.toArray(EMPTY_STRING_ARRAY);
        }
        definition.setDependsOn(dependsOn);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">registerJCacheInitializer</span><span
            class="hljs-params">(Node source, ParserContext ctx)</span> </span>{
        String cacheName = ((Attr) source).getValue();
        String beanName = cacheName + <span class="hljs-string">"-initializer"</span>;
        <span class="hljs-keyword">if</span> (!ctx.getRegistry().containsBeanDefinition(beanName)) {
            BeanDefinitionBuilder initializer = BeanDefinitionBuilder.rootBeanDefinition(JCacheInitializer.class);
            initializer.addConstructorArg(cacheName);
            ctx.getRegistry().registerBeanDefinition(beanName, initializer.getBeanDefinition());
        }
        <span class="hljs-keyword">return</span> beanName;
    }
}
</span></code><div class="codetools"><button class="undefined unfold-button" title="Expand folded text"
                                             type="button"><span class="label">Expand folded text</span></button><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                            </div>
                            <div class="content hidden" data-block-name="Kotlin">
<pre class="highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="fold-block"><span
        class="hljs-keyword">package</span> com.foo
</span><span class="fold-block hide-when-folded"><span class="hljs-keyword">import</span> org.springframework.beans.factory.config.BeanDefinitionHolder
<span class="hljs-keyword">import</span> org.springframework.beans.factory.support.AbstractBeanDefinition
<span class="hljs-keyword">import</span> org.springframework.beans.factory.support.BeanDefinitionBuilder
<span class="hljs-keyword">import</span> org.springframework.beans.factory.xml.BeanDefinitionDecorator
<span class="hljs-keyword">import</span> org.springframework.beans.factory.xml.ParserContext
<span class="hljs-keyword">import</span> org.w3c.dom.Attr
<span class="hljs-keyword">import</span> org.w3c.dom.Node

<span class="hljs-keyword">import</span> java.util.ArrayList

</span><span class="fold-block"><span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">JCacheInitializingBeanDefinitionDecorator</span> : <span class="hljs-type">BeanDefinitionDecorator {</span></span>

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">decorate</span><span class="hljs-params">(source: <span class="hljs-type">Node</span>, holder: <span
            class="hljs-type">BeanDefinitionHolder</span>,
                        ctx: <span class="hljs-type">ParserContext</span>)</span></span>: BeanDefinitionHolder {
        <span class="hljs-keyword">val</span> initializerBeanName = registerJCacheInitializer(source, ctx)
        createDependencyOnJCacheInitializer(holder, initializerBeanName)
        <span class="hljs-keyword">return</span> holder
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">createDependencyOnJCacheInitializer</span><span class="hljs-params">(holder: <span
            class="hljs-type">BeanDefinitionHolder</span>,
                                                    initializerBeanName: <span
                class="hljs-type">String</span>)</span></span> {
        <span class="hljs-keyword">val</span> definition = holder.beanDefinition <span class="hljs-keyword">as</span> AbstractBeanDefinition
        <span class="hljs-keyword">var</span> dependsOn = definition.dependsOn
        dependsOn = <span class="hljs-keyword">if</span> (dependsOn == <span class="hljs-literal">null</span>) {
            arrayOf(initializerBeanName)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">val</span> dependencies = ArrayList(listOf(*dependsOn))
            dependencies.add(initializerBeanName)
            dependencies.toTypedArray()
        }
        definition.setDependsOn(*dependsOn)
    }


    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">registerJCacheInitializer</span><span class="hljs-params">(source: <span
            class="hljs-type">Node</span>, ctx: <span class="hljs-type">ParserContext</span>)</span></span>: String {
        <span class="hljs-keyword">val</span> cacheName = (source <span class="hljs-keyword">as</span> Attr).value
        <span class="hljs-keyword">val</span> beanName = <span class="hljs-string">"<span class="hljs-variable">$cacheName</span>-initializer"</span>
        <span class="hljs-keyword">if</span> (!ctx.registry.containsBeanDefinition(beanName)) {
            <span class="hljs-keyword">val</span> initializer = BeanDefinitionBuilder.rootBeanDefinition   (JCacheInitializer::<span
            class="hljs-keyword">class</span>.java)
            initializer.addConstructorArg(cacheName)
            ctx.registry.registerBeanDefinition(beanName, initializer.getBeanDefinition())
        }
        <span class="hljs-keyword">return</span> beanName
    }
}
</span></code><div class="codetools"><button class="undefined unfold-button" title="Expand folded text"
                                             type="button"><span class="label">Expand folded text</span></button><button
        class="copy-button" title="Copy to clipboard" type="button"><span class="label">Copy to clipboard</span><span
        class="copied"></span></button></div></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>最后，我们需要通过修改 <code>META-INF/spring.handlers</code> 和 <code>META-INF/spring.schemas</code>
                                文件，将各种工件注册到Spring XML基础架构中，如下所示。</p>
                        </div>
                        <div class="literalblock">
                            <div class="content">
<pre># in 'META-INF/spring.handlers'
http\://www.foo.example/schema/jcache=com.foo.JCacheNamespaceHandler</pre>
                            </div>
                        </div>
                        <div class="literalblock">
                            <div class="content">


                                # in 'META-INF/spring.schemas'
                                http\://www.foo.example/schema/jcache/jcache.xsd=com/foo/jcache.xsd</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="core.appendix.application-startup-steps"><a class="anchor"
                                                                    href="fg.cn/spring/core.html#core.appendix.application-startup-steps"></a>11.3.
                    应用程序的启动步骤</h3>
                <div class="paragraph">
                    <p>附录中的这一部分列出了核心容器所使用的现有的StartupSteps。</p>
                </div>
                <div class="admonitionblock warning">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-warning" title="Warning"></i>
                            </td>
                            <td class="content">
                                每个启动步骤的名称和详细信息并不是公共合同（contract）的一部分，可能会发生变化；这被认为是核心容器的实施细节，将跟随其行为变化。
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <table class="tableblock frame-all grid-all stretch">
                    <caption class="title">Table 15. 核心容器中定义的应用程序启动步骤</caption>
                    <colgroup>
                        <col style="width: 33.3333%;">
                        <col style="width: 33.3333%;">
                        <col style="width: 33.3334%;">
                    </colgroup>
                    <thead>
                    <tr>
                        <th class="tableblock halign-left valign-top">名称</th>
                        <th class="tableblock halign-left valign-top">说明</th>
                        <th class="tableblock halign-left valign-top">标签</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.beans.instantiate</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">
                            实例化一个Bean及其依赖关系。</p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>beanName</code>
                            是Bean的名字，<code>beanType</code> 是注入点需要的类型。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.beans.smart-initialize</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>SmartInitializingSingleton</code>
                            Bean的初始化。</p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>beanName</code>
                            是bean的名称。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.annotated-bean-reader.create</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">创建 <code>AnnotatedBeanDefinitionReader</code>.
                        </p></td>
                        <td class="tableblock halign-left valign-top"></td>
                    </tr>
                    <tr>
                        <tdhalign class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.base-packages.scan</code>
                        </p></tdhalign>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">扫描 base package。</p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>packages</code> 是用于扫描的
                            base package 数组。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.beans.post-process</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">Bean 后处理阶段。</p></td>
                        <td class="tableblock halign-left valign-top"></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.bean-factory.post-process</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">调用 <code>BeanFactoryPostProcessor</code>
                            bean。</p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>postProcessor</code>
                            当前后处理阶段。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.beandef-registry.post-process</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">调用 <code>BeanDefinitionRegistryPostProcessor</code>
                            bean.</p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>postProcessor</code>
                            当前后处理阶段。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.component-classes.register</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">通过 <code>AnnotationConfigApplicationContext#register</code>
                            进行组件类（component class）的注册。</p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>classes</code>
                            数组，用于注册给定的类。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.config-classes.enhance</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">用CGLIB代理增强配置类。</p>
                        </td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>classCount</code>
                            增强类的数量。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.context.config-classes.parse</code>
                        </p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">用 <code>ConfigurationClassPostProcessor</code>
                            进行配置类的解析阶段。</p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock"><code>classCount</code>
                            已处理的类的数量。</p></td>
                    </tr>
                    <tr>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">
                            <code>spring.context.refresh</code></p></td>
                        <td class="tableblock halign-left valign-top"><p class="tableblock">Application context
                            刷新阶段。</p></td>
                        <td class="tableblock halign-left valign-top"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div id="footer">
    <div id="footer-text">
        Version 6.0.8-SNAPSHOT<br>
        Last updated 2023-04-06 08:35:56 +0800
    </div>
</div>
</div>
</div>
</div>
<a style="
  display:flex;
  align-items: center;
  border-radius:100%;
  justify-content: center;
  position:fixed;
  z-index:9999;
  width:60px;
  height:60px;
  bottom:50px;
  right:35px;
  background:#86b452;
  color:#fff;
  font-size:16px;
  font-weight: bold;
  box-shadow: 0 0 5px rgba(1, 1, 1, .5);
  " href="fg.cn/docs/">
    主页
</a>
</body>


<script type="text/javascript" src="../static/js/jquery.min.js"></script>
<script>
    let pn = localStorage.getItem("pn");
    let hide = false;
    let $mmc = $("#mmc");
    let $l = $("#l");
    $l.val(pn)

    $("#toc").on('wheel', function (e) {
        pn = $l.val();
        e.preventDefault();

        clearTimeout($(this).data('wheel-timeout'));

        $(this).data('wheel-timeout', setTimeout(() => {

            const delta = e.originalEvent.deltaY || e.originalEvent.wheelDelta;


            if (delta > 0) {
                pn++;
            } else {
                pn = Math.max(1, pn - 1);
            }

            lo();
            $l.val(pn);
            localStorage.setItem("pn", pn);
        }, 100));
    });

    function lo() {
        fetch(`/r?pn=${pn}`)
            .then(res => res.json())
            .then(data => {
                $mmc.empty()
                let a = "";
                for (let i = 0; i < data.length; i++) {
                    a += `<p>${data[i]}</p>`
                }
                $mmc.append(a)
            })

    }

    document.oncontextmenu = function (e) {
        e.preventDefault()
        visual();

    }

    function visual() {
        hide = !hide;
        if (hide) {
            $mmc.hide()
            $l.hide()
        } else {
            $mmc.show()
            $l.show()
        }
    }


    $(document).ready(function () {
        visual()
    })


</script>
</html>

